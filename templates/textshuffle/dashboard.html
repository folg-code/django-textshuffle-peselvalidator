{% extends "base.html" %}

{% block content %}
<h1>Text Shuffle</h1>

{% if error_message %}
<div class="alert alert-danger" role="alert">
  {{ error_message }}
</div>
{% endif %}

<form method="post" enctype="multipart/form-data" class="d-flex flex-column align-items-start gap-3">
  {% csrf_token %}
  
  <input type="file" name="file" id="id_file" class="d-none" required>
  
  <label for="id_file" class="btn btn-outline-primary w-auto" id="fileLabel">
    📁 Wybierz plik
  </label>
  
  <button type="submit" class="btn btn-outline-primary w-aut">⬆️ Wgraj plik</button>
</form>

<p class="mt-3 text-muted" id="fileName"></p>

<script>
  const fileInput = document.getElementById("id_file");
  const fileNameDisplay = document.getElementById("fileName");

  fileInput.addEventListener("change", (event) => {
    const fileName = event.target.files[0]?.name;
    fileNameDisplay.textContent = fileName ? `Wybrano: ${fileName}` : "";
  });
</script>
{% endblock %}